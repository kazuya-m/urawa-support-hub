# Issue優先順位ロードマップ

**ターゲット**: 個人利用MVP、最小限実装\
**作成日**: 2025-08-22\
**更新日**: 2025-08-23\
**目標**: 10日間でMVPローンチ

## 実装状況サマリー

- **完了済み**: ドメインモデル、リポジトリ、データベーススキーマ、スクレイピングサービス、CI/CD
- **進行中**: なし
- **未着手**: Cloudサービス、通知、アプリケーション層

## 実装フェーズ概要

### Phase 1: 基盤構築（3日間）

**目的**: 最小限の開発環境構築

| Issue | タイトル                                          | 優先度      | ステータス      | 理由                         |
| ----- | ------------------------------------------------- | ----------- | --------------- | ---------------------------- |
| #28   | Google Cloud Platformプロジェクト・アカウント設定 | 🔴 Critical | ❌ 未着手       | 全GCPサービスの前提条件      |
| #29   | LINE Bot・Discord Webhook外部サービス設定         | 🔴 Critical | ❌ 未着手       | 通知機能の前提条件           |
| #17   | 環境変数と基本シークレット設定                    | 🔴 Critical | ❌ 未着手       | 簡素化されたセキュリティ基盤 |
| #36   | 基本型定義とエンティティ                          | 🔴 Critical | ✅ **完了済み** | コアドメインモデル           |
| #37   | Supabaseクライアントとリポジトリ                  | 🔴 Critical | ✅ **完了済み** | データ永続化層               |
| #39   | 最小限のセキュリティ設定                          | 🔴 Critical | ❌ 未着手       | 基本セキュリティ要件         |
| #40   | 初期データベーススキーマ作成                      | 🔴 Critical | ✅ **完了済み** | データベース構造             |

### Phase 2: コア機能実装（3日間）

**目的**: スクレイピングとスケジューリング機能の実装

| Issue | タイトル                                   | 優先度      | ステータス          | 理由                 |
| ----- | ------------------------------------------ | ----------- | ------------------- | -------------------- |
| #38   | Playwrightスクレイピング実装               | 🔴 Critical | ⚠️ **ローカルのみ** | コアデータ取得機能   |
| #12   | チケット管理アプリケーションサービス実装   | 🔴 Critical | ❌ 未着手           | コアビジネスロジック |
| #24   | Google Cloud Runスクレイピングサービス実装 | 🔴 Critical | ❌ 未着手           | コンテナデプロイ     |
| #26   | Cloud Scheduler日次実行設定実装            | 🔴 Critical | ❌ 未着手           | 自動化要件           |
| #25   | Google Cloud Tasks通知スケジューリング実装 | 🔴 Critical | ❌ 未着手           | 通知タイミング制御   |

### Phase 3: 通知サービス（2日間）

**目的**: 通知配信の実装

| Issue | タイトル                             | 優先度      | ステータス | 理由                     |
| ----- | ------------------------------------ | ----------- | ---------- | ------------------------ |
| #27   | LINE通知サービス実装                 | 🔴 Critical | ❌ 未着手  | メイン通知チャネル       |
| #30   | Discordエラー通知実装                | 🟠 High     | ❌ 未着手  | エラーアラートのみ       |
| #13   | 通知管理アプリケーションサービス実装 | 🔴 Critical | ❌ 未着手  | 通知オーケストレーション |

### Phase 4: デプロイ（2日間）

**目的**: 自動デプロイとテスト

| Issue | タイトル                | 優先度      | ステータス      | 理由         |
| ----- | ----------------------- | ----------- | --------------- | ------------ |
| #33   | 最小限CI/CDセットアップ | 🔴 Critical | ✅ **完了済み** | 自動デプロイ |
| -     | 手動テスト              | 🔴 Critical | ❌ 未着手       | 最終確認     |

## 削除したIssue（個人利用では不要）

- ~~#34 セキュリティ・権限管理詳細設計~~ - 過剰実装
- ~~#32 データベース・マイグレーション管理~~ - 初期スキーマのみ
- ~~#18 エンドツーエンド統合テストスイート~~ - 手動テストで十分
- ~~#31 通知サービス統合・調整~~ - 各サービスに含める
- ~~#16 システムヘルス監視Edge Function~~ - Discordアラートで十分
- ~~#15 通知Edge Function~~ - Cloud Runから直接通知

## 開発進行ルール

### 1. シンプルに保つ

- 個人利用向け最小限実装
- ステージング環境なし
- 本番環境への直接デプロイ
- 手動テスト許容

### 2. ブランチ戦略

- **パターン**: `feature/#<issue-number>_<description>`
- **例**: `feature/#36_basic-types`

### 3. 完了条件

各issueは以下の条件を満たした時点で完了：

- [ ] 機能が動作する
- [ ] `deno check`が通る
- [ ] 手動テストが通る

## マイルストーン

### MVPローンチ（開始から10日）

- **対象**: Phase 1-4の全issue
- **成功基準**: 基本的なチケット監視とLINE通知が動作

## 現在の状況（2025-08-23）

### ✅ 完了済みIssue: 5/16 (31%)

- #36 - 基本型定義とエンティティ
- #37 - Supabaseクライアントとリポジトリ
- #40 - 初期データベーススキーマ作成
- #33 - CI/CDセットアップ（GitHub Actions）
- スクレイピングサービス（ローカル実装のみ）

### ⚠️ 進行中: 0/16 (0%)

- なし

### ❌ 未着手: 11/16 (69%)

- 全GCPサービス（#28、#24、#25、#26）
- 外部サービス設定（#29）
- 環境変数（#17）
- セキュリティ設定（#39）
- アプリケーションサービス層（#12、#13）
- 通知サービス（#27、#30）

## 次のステップ優先順位

1. **#28** - GCPプロジェクト設定（全Cloudサービスのブロッカー）
2. **#29** - LINE/Discord外部設定（通知のブロッカー）
3. **#17** - 環境変数設定
4. **#24** - スクレイピングをCloud Runへデプロイ
5. **#26** - Cloud Scheduler設定

## 進捗確認

```bash
# フェーズごとの進捗確認
gh issue list --label "phase-1-foundation" --state "open"
gh issue list --label "phase-2-core" --state "open"
gh issue list --label "phase-3-notification" --state "open"

# 全体の進捗確認
gh issue list --state "open"

# 完了済み確認
gh issue list --state "closed"
```
